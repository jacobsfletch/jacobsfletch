function getYouTubeId(e){var t=/http:\/\/(?:youtu\.be\/|(?:[a-z]{2,3}\.)?youtube\.com\/watch(?:\?|#\!)v=)([\w-]{11}).*/gi;t.exec(e);return match[0]}function videoModalClickEvent(e){var t,i=e.target.getAttribute("data-video-url");t.loadVideoById("sqBCNjYKMI0"),modalOpen(i),e.preventDefault()}function videoClose(e,t){e.addEventListener("click",videoCloseEvent)}function videoCloseEvent(e){modalClose(),document.getElementById("youtube-video-player").innerHTML="",e.preventDefault()}var fras=function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};throttle=function(t,i,n){n=n||window;var a=!1,s=function(){a||(a=!0,e(function(){n.dispatchEvent(new CustomEvent(i)),a=!1}))};n.addEventListener(t,s)},throttle("resize","optimizedResize"),throttle("scroll","optimizedScroll"),Math.linearTween=function(e,t,i,n){return i*e/n+t},Math.easeInOutCirc=function(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},Math.easeInOutQuart=function(e,t,i,n){return e/=n/2,e<1?i/2*e*e*e*e+t:(e-=2,-i/2*(e*e*e*e-2)+t)},Math.easeInOutQuint=function(e,t,i,n){return e/=n/2,e<1?i/2*e*e*e*e*e+t:(e-=2,i/2*(e*e*e*e*e+2)+t)},Math.easeInOutExpo=function(e,t,i,n){return e/=n/2,e<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(-Math.pow(2,-10*e)+2)+t)};var t={trackers:{dimensions:{winH:window.innerHeight,winW:window.innerWidth}},config:{},utils:{math:{},dom:{},events:{},fc:{}},animate:{},components:{},modules:{}};return window.addEventListener("optimizedResize",function(){t.trackers.dimensions.winH=window.innerHeight,t.trackers.dimensions.winW=window.innerWidth}),t}();fras.animate={tween:function(e,t,i,n,a,s,o){var r,l=this,d=t-e,o=o||20,s=s||"easeInOutCirc",c=e;if(this.currentTime=0,this.stopped=!1,this.paused=!1,this.stop=function(){l.stopped=!0,l.currentTime=0},this.pause=function(){l.paused=!0},this.play=function(){function t(){if(1==l.stopped)"function"==typeof n&&n();else{l.currentTime+=o;var u=Math[s](l.currentTime,e,d,a);i(u,l.currentTime),c=u,l.currentTime<a&&!l.paused?r=setTimeout(t,o):"function"==typeof n&&n()}}l.stopped=!1,t()},!(this instanceof fras.animate.tween)){var u=new fras.animate.tween(e,t,i,n,a,s,o);return u.play(),u}},slideDown:function(e,t,i,n){function a(t){e.style.height=t+"px"}var s=e.scrollHeight,o=e.offsetHeight;if(fras.utils.dom.removeClass(e,"is-up"),fras.utils.dom.addClass(e,"is-down"),t){var r=o,l=s,i=i||300;return e.tween&&"function"==typeof e.tween&&e.tween.stop(),e.tween=this.tween(l,r,i,a,n),e.tween}e.offsetHeight<1&&(fras.utils.dom.hasClass(e,"is-active")?e.style.height=s+"px":setTimeout(function(){fras.utils.dom.addClass(e,"is-active"),e.style.height=s+"px"},1))},slideUp:function(e,t,i,n){function a(t){e.style.height=t+"px"}if(fras.utils.dom.removeClass(e,"is-down"),fras.utils.dom.addClass(e,"is-up"),t){var s=current_height,o=0,i=i||300;return e.tween&&"function"==typeof e.tween&&e.tween.stop(),e.tween=this.tween(o,s,i,a,n),e.tween}e.style.height=e.scrollHeight+"px",fras.utils.dom.hasClass(e,"is-active")?e.style.height="0":setTimeout(function(){fras.utils.dom.removeClass(e,"is-active"),e.style.height="0"},1)},slideToggle:function(e,t,i,n){e.offsetHeight<1?this.slideDown(e,t,i,n):this.slideUp(e,t,i,n)},scrollTo:function(e,t,i,n){e="window"==e?window.scrollTo?window:document.documentElement:"string"==typeof e?document.querySelector(e):e;var a=e.scrollTop||e.scrollY;return e.tween&&e.tween instanceof fras.animate.tween&&e.tween.stop(),e.tween=this.tween(a,t,function(t){e.scrollTop?e.scrollTop(t):e.scrollTo(0,t)},n,i),e.addEventListener("wheel",function(){e.tween.stop()}),e.tween},scrollToElement:function(e,t,i,n){var a=fras.trackers.dimensions.winH,s=window.pageYOffset||document.documentElement.scrollTop,o=e.offsetHeight,r=e.getBoundingClientRect(),l=s+r.top,d=Math.abs(s-l)/1e3*t;switch(d=d<t/2?t/2:d,i){case"bottom":l=s+r.top+(o-a);break;case"center":l=l-a/2+o/2,l=o>a?s+r.top:l;break;case"below":l=s+r.top+o}fras.trackers.scrolling?(fras.trackers.stopscroll=!0,window.setTimeout(function(){fras.trackers.stopscroll=!1,this.scrollTo("window",l,d,n)},30)):this.scrollTo("window",l,d,n)}},fras.utils.data={getAge:function(e){var t=new Date,i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),s=e.getFullYear(),o=e.getMonth(),r=e.getDate(),l=i-s,d=n-o,c=a-r;return(d<0||0==d&&c<0)&&(l=parseInt(l)-1),l},getHeight:function(e){return e=Math.floor(e/12)+"' "+e%12+'"'},getMonthName:function(e){return monthName=["January","February","March","April","May","June","July","August","September","October","November","December"],monthName[e]}},fras.utils.dom={isElementInViewport:function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isElementVisible:function(e){var t=e.getBoundingClientRect();return t.top<(window.innerHeight||document.documentElement.clientHeight)&&t.bottom>0},cumulativeOffset:function(e){var t=0,i=0;do t+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:t,left:i}},centerOffset:function(e,t,i,n){var a=i+n/2,s=e+t/2,o=s-a;return o},createElement:function(e,t,i,n,a){var s=document.createElement(e);return s.innerHTML=t,i&&fras.utils.dom.addClass(s,i),Array.isArray(n)&&n.forEach(function(e,t){s.setAttribute(e.name,e.value)}),a&&a.appendChild(s),s},killElement:function(e,t,i,n){"object"==typeof i&&(i.remove_class&&fras.utils.dom.removeClass(e,i.remove_class),i.add_class&&fras.utils.dom.removeClass(e,i.add_class)),closeTimer=setTimeout(function(){e.parentNode.removeChild(e),"function"==typeof n&&n()},t)},appendElement:function(e,t,i,n){var a=fras.utils.dom.createElement(e,t,i);return n.appendChild(a),a},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},forEach:function(e,t,i){for(var n=0;n<e.length;n++)t(e[n],n),n==e.length-1&&i&&i()},htmlToElement:function(e){var t=document.createElement("template");return t.innerHTML=e,t.content.firstChild},addClass:function(e,t){function n(e){if("object"==typeof e)for(var i=0;i<t.length;i++)e.classList?e.classList.add(t[i]):fras.utils.dom.hasClass(e,t[i])||(e.className+=" "+t[i])}if(t=t.split(" "),e&&e.length&&e.length>0)for(i=0;i<e.length;i++)n(e[i]);else n(e)},removeClass:function(e,t){function n(e){if("object"==typeof e)if(t.length>1){for(var i=0;i<t.length;i++)if(e.classList)e.classList.remove(t[i]);else if(fras.utils.dom.hasClass(e,t[i])){var n=new RegExp("(\\s|^)"+t[i]+"(\\s|$)");e.className=e.className.replace(n," ")}}else if(e.classList)e.classList.remove(t[0]);else if(fras.utils.dom.hasClass(e,t[0])){var n=new RegExp("(\\s|^)"+t[0]+"(\\s|$)");e.className=e.className.replace(n," ")}}if(t=t.split(" "),e&&e.length&&e.length>0)for(i=0;i<e.length;i++)n(e[i]);else n(e)},toggleClass:function(e,t){fras.utils.dom.hasClass(e,t)?fras.utils.dom.removeClass(e,t):fras.utils.dom.addClass(e,t)},hasClass:function(e,t){return"object"==typeof e&&(e.classList?e.classList.contains(t):e.className?!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):void 0)}},fras.utils.events={observeDOM:function(){var e=window.MutationObserver||window.WebKitMutationObserver,t=window.addEventListener;return function(i,n){if(e){var a=new e(function(e,t){(e[0].addedNodes.length||e[0].removedNodes.length)&&n()});a.observe(i,{childList:!0,subtree:!0})}else t&&(i.addEventListener("DOMNodeInserted",n,!1),i.addEventListener("DOMNodeRemoved",n,!1))}}()},fras.utils.fc={debounce:function(e,t,i){var n;return function(){var a=this,s=arguments,o=function(){n=null,i||e.apply(a,s)},r=i&&!n;clearTimeout(n),n=setTimeout(o,t),r&&e.apply(a,s)}}},fras.polyFills=function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}function t(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(t)&&(e=parseFloat(RegExp.$1))}return e}if(Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.prototype=window.Event.prototype,window.CustomEvent=e,fras.trackers.ie=t(),fras.trackers.ie<10&&fras.trackers.ie>0){document.body.className+=" ie ie-"+fras.trackers.ie;var i=document.querySelectorAll(".ie-full-height");fras.utils.dom.forEach(i,function(e){e.style.height=e.parentNode.offsetHeight+"px"})}else{var i=document.querySelectorAll(".ie-full-height");fras.utils.dom.removeClass(i,"ie-full-height")}}(),fras.ajax=function(){var e={},t=fras.utils.dom.addClass,i=fras.utils.dom.removeClass;return e.params=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return t.join("&")},e.serialize=function(t){if("object"==typeof t&&"FORM"==t.nodeName){for(var i,n,a=[],s=t.elements.length,o=0;o<s;o++)if(i=t.elements[o],i.name&&!i.disabled&&"file"!=i.type&&"reset"!=i.type&&"submit"!=i.type&&"button"!=i.type)if("select-multiple"==i.type){n=t.elements[o].options.length;for(var r=0;r<n;r++)i.options[r].selected&&(a[a.length]=encodeURIComponent(i.name)+"="+encodeURIComponent(i.options[r].value))}else("checkbox"!=i.type&&"radio"!=i.type||i.checked)&&(a[a.length]=encodeURIComponent(i.name)+"="+encodeURIComponent(i.value));return a.join("&").replace(/%20/g,"+")}if(void 0!==t){var l,d=t;switch(d.constructor){case Array:for(var c="[",o=0;o<d.length;o++)o>0&&(c+=","),c+=e.serialize(d[o]);return c+="]";case String:return l=escape("'"+d+"'");case Number:return l=isFinite(d)?d.toString():null;case Date:return l="#"+d+"#";default:if("object"==typeof d){var u=[];for(attr in d)"function"!=typeof d[attr]&&u.push('"'+attr+'":'+e.serialize(d[attr]));return u.length>0?"{"+u.join(",")+"}":"{}"}return d.toString()}}return null},e.post=function(t){var i=new XMLHttpRequest;if("json"==t.type?t.data=JSON.stringify(t.data):t.dataobj?t.data=e.serialize(t.dataobj):t.data&&(window.FormData?t.data=new FormData(t.data):t.data=e.serialize(t.data)),t={type:t.type,method:t.data?"POST":"GET",url:t.url,data:t.data,append:!!t.append&&t.append,success:t.success?t.success:function(e){},err:t.err?t.err:function(e){}},window.FormData&&t.append)t.data.append(t.append);else if(t.append){var n=e.serialize(t.append);t.data=t.data+"&"+n}i.addEventListener("load",function(e){if(i.readyState==XMLHttpRequest.DONE){var n=i.responseText;if(200==i.status)"json"==t.type&&(n=JSON.parse(n)),t.success(n);else if(400==i.status){var a="Not Found";"json"==t.type&&(a={error:a}),t.err(a)}else"json"==t.type&&(n=JSON.parse(n)),t.err(n)}}),i.addEventListener("error",function(e){t.err("There was an issue with your request, please try again.")}),i.open(t.method,t.url,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),"json"==t.type?i.setRequestHeader("Content-Type","application/json"):null==window.FormData&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(t.data)},e.loadView=function(e,n,a,s){t(n,"loading"),this.post({url:e,success:function(e){n.innerHTML=e,"function"==typeof a&&a(),i(n,"loading")},err:function(){"function"==typeof s&&s(),i(n,"loading"),t(n,"error")}})},e}(),fras.autoFill=function(e,t){function i(e){if(!a.dom.hasClass(e.nextElementSibling,"auto-fill")){var t=a.dom.createEl("ul","","auto-fill");a.dom.insertAfter(t,e)}e.addEventListener("input",s)}var n={};"object"==typeof t||(t=n);var a=fras.utils;fras.listenerManager.bind([e,i]);var s=a.fc.debounce(function(e){var i=e.target,n=i.dataset.start?i.dataset.start:3;if(i.value.length>n-1){var i=e.target,s=i.dataset.url,o={},r=i.nextElementSibling;o[i.name]=i.value,o=fras.ajax.params(o),fras.ajax.loadView(s+"?"+o,r,function(e){a.dom.addClass(r,"is-active"),a.dom.forEach(r.children,function(e){e.addEventListener("click",function(n){var a=e.dataset.value;i.value=a,"function"==typeof t.click&&t.click(e)})})},function(e){a.dom.removeClass(r,"is-active")})}else i.value.length&&(r=i.nextElementSibling,r.innerHTML="",a.dom.removeClass(r,"is-active"))},10)},fras.lazyLoad=function(){var e=fras.utils.dom,t=function(i,n){var a=document.querySelectorAll("img[data-src]");[].forEach.call(a,function(t){e.isElementInViewport(t)&&(console.log("Lazied"),t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src"),e.addClass(t.parentNode,"loading"),window.setTimeout(function(){e.removeClass(t.parentNode,"loading"),e.addClass(t.parentNode,"loaded")},300))}),0==a.length&&(window.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t),window.removeEventListener("optimizedResize",t),window.removeEventListener("optimizedScroll",t))};return 1==fras.config.lazy_load&&(window.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t),window.removeEventListener("optimizedResize",t),window.removeEventListener("optimizedScroll",t)),t}(),fras.listenerManager=function(){var e={elements:[],update:function(){e.elements.forEach(function(e){"string"==typeof e[0]?(elements=document.querySelectorAll(e[0]),fras.utils.dom.forEach(elements,e[1])):(elements=Array.isArray(e[0])?e[0]:[e[0]],fras.utils.dom.forEach(elements,e[1]))})},bind:function(t){t.length>2?t.forEach(function(t){e.elements.push(t)}):e.elements.push(t),e.update()}};return fras.utils.events.observeDOM(document.body,function(){e.update()}),e}(),fras.$=function(e){if(el="string"==typeof e?document.querySelectorAll(e):e,this.element=el,this.selector=e,!(this instanceof fras.$))return new fras.$(e)},fras.fn=fras.$.prototype={on:function(e,t){function i(e){document.addEventListener(e,function(e){var i=event.target||event.srcElement;"string"==typeof a.selector?i.matches(a.selector)&&t(e,i):fras.utils.dom.forEach(a.selector,function(n){i==n&&t(e,i)})})}function n(e){this.element&&(Array.isArray(this.element)?fras.utils.dom.forEach(this.element,function(i){i.addEventListener(e,t)}):this.element.addEventListener(e,t))}var a=this;e=e.split(" ");var s=["focus","blur","load","error","resize","readystatechange"];fras.utils.dom.forEach(e,function(e){s.indexOf(e)?i(e):n(e)})},click:function(e){this.on("click",e)},scroll:function(e){this.on("optimizedScroll",e)},resize:function(e){this.on("optimizedResize",e)},hasClass:function(e){return fras.utils.dom.hasClass(this.element,e)},addClass:function(e){fras.utils.dom.addClass(this.element,e)},toggleClass:function(e){fras.utils.dom.toggleClass(this.element,e)},removeClass:function(e){fras.utils.dom.removeClass(this.element,e)},remove:function(){fras.utils.dom.forEach(this.element,function(e){e.parentNode.removeChild(e)})},find:function(e){var t=this,i=fras.$(t.element.querySelectorAll(e));return i},each:function(e){fras.utils.dom.forEach(this.element,function(t,i){e(t,i)})},parent:function(e){for(el=this.element[0]||this.element;(el=el.parentElement)&&!el.matches(e););return fras.$(el)}},fras.Validator=function(e,n){function a(e){r.options.validHandler(e)}function s(e,t){r.options.errorHandler(e,t),r.message.errors++,r.message.fields.push(t),e.addEventListener("input",f)}e=document.getElementById(e);var o=fras.utils.dom.createElement;n={success:n.success?n.success:function(){e.submit()},fail:n.fail?n.fail:function(e){console.log(e)},rules:!!n.rules&&n.rules,error_class:n.error_class?n.error_class:"is-error",valid_class:n.valid_class?n.valid_class:"is-valid",validHandler:n.validHandler&&"function"==typeof n.validHandler?n.validHandler:function(e){e.parentNode.classList.remove(n.error_class),e.parentNode.classList.add(n.valid_class)},errorHandler:n.errorHandler&&"function"==typeof n.errorHandler?n.errorHandler:function(e,t){e.parentNode.classList.remove(n.valid_class),e.parentNode.classList.add(n.error_class);var i=e.parentNode.querySelector(".field-tooltip");i?i.innerHTML=t:o("div",t,"field-tooltip",null,e.parentNode)}};var r=this;if(this.options=n,e){this.el=e,this.validate_fields=this.el.querySelectorAll(".validate"),this.message={errors:0,fields:[]};var l=function(e,t){for(var i=e.els[t],n=0;n<i.length;n++)if(i[n].checked)return i[n].value;return""};for(i=0;i<this.validate_fields.length;i++){var d=this.validate_fields[i],c=(d.getAttribute("data-validate"),d.parentNode.classList.contains("is-error"));c&&d.addEventListener("change",f)}e.addEventListener("submit",function(e){e.preventDefault(),u(e)})}this.validateForm=function(t){for(t.target&&(t.preventDefault(),t=t.target),this.isValid=!0,this.message.errors=0,this.message.fields=[],i=0;i<this.validate_fields.length;i++)this.validateField(this.validate_fields[i])||(this.isValid=!1);return this.isValid?this.options.success(event):(e.querySelector(".is-error .field-element")&&e.querySelector(".is-error .field-element").focus(),this.options.fail(this.message)),!1},this.validateField=function(i){var i=i.target?i.target:i,n=i.value;if(i.hasAttribute("validate-depends")){var o;if(o="radio"==e.els[i.getAttribute("validate-depends")].type?l(e,i.getAttribute("validate-depends")):e.els[i.getAttribute("validate-depends")].value,i.hasAttribute("validate-depends-value")&&o!==i.getAttribute("validate-depends-value"))return i.parentNode.classList.remove("is-error"),i.parentNode.classList.remove("is-valid"),!0;if(""==o)return i.parentNode.classList.remove("is-error"),i.parentNode.classList.remove("is-valid"),!0}if(i.hasAttribute("data-max")){var r=Number(i.getAttribute("data-max"));if(r<n.length)return s(i),!1}if(i.hasAttribute("data-min")){var d=Number(i.getAttribute("data-min"));if(d<n.length)return s(i),!1}var c=i.getAttribute("validate"),u=(i.getAttribute("validate-message"),i.parentNode,i.hasAttribute("required")),f=!0;if(c=u&&!c?["required"]:c.replace(/\s/g,"").split(","),u=u?u:Array.prototype.indexOf("required",c),u||!u&&n.length>0)for(t=0;t<c.length;t++)if(c[t]&&"function"==typeof this.validateMethods[c[t]].validate){var m=this.validateMethods[c[t]];if(!m.validate(n,i)){s(i,m.message),f=!1;break}a(i)}return f};var u=this.validateForm.bind(this),f=this.validateField.bind(this)},fras.Validator.prototype.addMethod=function(e,t,i){fras.Validator.prototype.validateMethods[e]={validate:t,message:i}},fras.Validator.prototype.validateMethods={required:{validate:function(e,t){return e.length>0},message:"This field is required"},number:{validate:function(e,t){var i=/^[0-9.]+$/,n=i.test(e);return n},message:"This field is required"},email:{validate:function(e,t){var i=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=i.test(e);return n},message:"Please input a valid email address"},checked:{validate:function(e,t){return 1==t.checked},message:"This field is required"},phone:{validate:function(e,t){var i=/^(\+\d)*\s*(\(\d{3}\)\s*)*\d{3}(-{0,1}|\s{0,1})\d{2}(-{0,1}|\s{0,1})\d{2}$/;return!!e.match(i)},message:"This field is required"},fileExtension:{validate:function(e,t){var i=/.*\.(gif)|(jpeg)|(jpg)|(png)$/;return!!t.value.toLowerCase().match(i)},message:"This field is required"},date:{validate:function(e,t){var i="MMDDYYYY";if(null==i&&(i="MDY"),i=i.toUpperCase(),3!=i.length&&(i="MDY"),i.indexOf("M")!=-1&&i.indexOf("D")!=-1&&i.indexOf("Y")!=-1||(i="MDY"),"Y"==i.substring(0,1))var n=/^\d{2}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,a=/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/;else if("Y"==i.substring(1,2))var n=/^\d{1,2}(\-|\/|\.)\d{2}\1\d{1,2}$/,a=/^\d{1,2}(\-|\/|\.)\d{4}\1\d{1,2}$/;else var n=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2}$/,a=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{4}$/;if(0==n.test(e)&&0==a.test(e))return!1;var s=e.split(RegExp.$1);if("M"==i.substring(0,1))var o=s[0];else if("M"==i.substring(1,2))var o=s[1];else var o=s[2];if("D"==i.substring(0,1))var r=s[0];else if("D"==i.substring(1,2))var r=s[1];else var r=s[2];if("Y"==i.substring(0,1))var l=s[0];else if("Y"==i.substring(1,2))var l=s[1];else var l=s[2];parseFloat(l)<=50&&(l=(parseFloat(l)+2e3).toString()),parseFloat(l)<=99&&(l=(parseFloat(l)+1900).toString());var d=new Date(parseFloat(l),parseFloat(o)-1,parseFloat(r),0,0,0,0);return parseFloat(r)==d.getDate()&&parseFloat(o)-1==d.getMonth()},message:"This field is required"},dob:{validate:function(e,t){return!!validateMethods.isDate(t)&&(dob=new Date(e),today=new Date,today.setFullYear(today.getFullYear()-5),dob<today)},message:"This field is required"},name:{validate:function(e,t){var i=/^[A-Za-z0-9 ]{3,50}$/,n=i.test(e);return n},message:"This field is required"},password:{validate:function(e,t){var i=/^(?=.*\d).{8,20}$/,n=i.test(e);return n},message:"This field is required"},url:{validate:function(e,t){var i=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,n=i.test(e);return n},message:"This field is required"},zip:{validate:function(e,t){var i=/^\d{5}(?:[-\s]\d{4})?$/,n=i.test(e);return console.log(n),n},message:"This field is required"},match:{validate:function(e,t){var i=document.getElementById(t.getAttribute("validate-match-value")).value;return e==i},message:"This field is required"}},fras.components.dropUpload=function(e,t){function i(e,t){inputEl=e.getElementsByClassName("upload"),inputEl=inputEl[0],inputEl.addEventListener("change",s,!1),inputEl.addEventListener("dragover",n,!1),inputEl.addEventListener("dragleave",a,!1),inputEl.addEventListener("drop",a,!1)}function n(e){l(e.target.parentNode,"image-over")}function a(e){d(e.target.parentNode,"image-over")}function s(e){var i=new FileReader;i.onload=function(i){var n=e.target.parentNode.getElementsByClassName("preview-img")[0];t.background&&(n=e.target.parentNode),n.setAttribute("style","background-image: url("+i.target.result+");"),l(n,"is-active")},i.readAsDataURL(e.target.files[0])}var o=fras.utils,r=o.dom,l=(r.createElement,r.addClass),d=r.removeClass;r.forEach;fras.listenerManager.bind([e,i]),t.type=t.type?t.type:"image",t.background=!!t.background&&t.background},fras.fn.fieldControl=function(){function e(e){for(var t=!1,i=0;i<e.childNodes.length;i++){var n=e.childNodes[i];if(n.value){t=!0;break}}return console.log(t),t}var t=this;return t.each(function(i,n){function a(e){var i=fras.$(e.target).parent(t.selector);i.addClass("focused")}function s(i){var n=fras.$(i.target).parent(t.selector),a=e(i.target.parentNode);n.removeClass("focused"),a?n.addClass("filled"):n.removeClass("filled")}function o(i){var n=fras.$(i.target).parent(t.selector),a=e(i.target.parentNode);n.removeClass("focused"),a?n.addClass("filled"):n.removeClass("filled")}var r=fras.$(i),l=r.find("input");l.on("focus",a),l.on("blur",s),l.on("input",o)}),t},fras.fn.rangeSlider=function(){function e(e){var t=document.getElementById(e.target.getAttribute("data-marker")),i=document.getElementById(e.target.getAttribute("data-tooltip")),n=e.target.value,a=Number(e.target.getAttribute("min")),s=Number(e.target.getAttribute("max")),o=(n-a)/(s-a);if(t&&(t.innerHTML=n),i){var r=i.offsetWidth;i.innerHTML=n,i.style.left=100*o+"%",i.style.marginLeft=r*-o+"px"}}function t(e){var t=e.target.value,i=document.getElementById(e.target.getAttribute("data-tooltip")),n=Number(e.target.getAttribute("min")),a=Number(e.target.getAttribute("max")),s=(t-n)/(a-n);if(i){var o=i.offsetWidth;i.innerHTML=t,i.style.left=100*s+"%",i.style.marginLeft=o*-s+"px",addClass(i.parentNode,"is-active"),addClass(i.parentNode,"is-set")}}function i(e){var t=document.getElementById(e.target.getAttribute("data-tooltip"));t&&(t.parentNode.classList.remove("is-active"),t.parentNode.classList.remove("is-set"))}var n=this;this.each(function(a,s){var o=document.getElementById(a.getAttribute("data-tooltip")),r=a.value,l=Number(a.getAttribute("min")),d=Number(a.getAttribute("max"));if(o){var c=o.offsetWidth,u=(r-l)/(d-l);o.innerHTML=r,o.style.left=100*u+"%",o.style.marginLeft=c/2*-u+"px"}n.on("input",e),n.on("mousedown",t),n.on("mouseup",i)})},fras.modules.Accordion=function(e,t){var i={multiple:!1,scroll:!1};"object"==typeof t?(t.multiple=t.multiple?t.multiple:i.multiple,t.scroll=t.scroll?t.scroll:i.scroll):t=i,this.options=t;var n=(fras.utils.dom.addClass,fras.utils.dom.addClass,fras.utils.dom.forEach,fras.listenerManager),a=this.toggle.bind(this),s=this.update.bind(this);this.els=Array.prototype.slice.call(document.querySelectorAll(e)),this.els.forEach(function(e){n.bind([Array.prototype.slice.call(e.querySelectorAll(".accordion-trigger")),function(e){e.addEventListener("click",a)}])}),s(),window.addEventListener("resize",s)},fras.modules.Accordion.prototype.toggle=function(e){var t=(fras.utils.dom.addClass,fras.utils.dom.addClass,fras.utils.dom.forEach,fras.listenerManager,e.currentTarget.parentNode),i=t.parentNode;accordion_content=i.querySelectorAll(".accordion-content"),this.options.multiple||fras.$(accordion_content).each(function(e){fras.utils.dom.addClass(e,"collapsed"),fras.utils.dom.removeClass(e,"expanded"),fras.utils.dom.removeClass(e.parentNode,"is-active"),e.style.height="0"});var n=t.querySelector(".accordion-content"),a=n.scrollHeight;if(n.offsetHeight<1&&!fras.$(n).hasClass("expanded"))n.style.height=a+"px",fras.utils.dom.removeClass(n,"collapsed"),fras.utils.dom.addClass(n,"expanded"),fras.utils.dom.addClass(t,"is-active"),this.options.scroll&&(this.last_scroll=window.pageYOffset||document.documentElement.scrollTop);else if(n.style.height="0",fras.utils.dom.addClass(n,"collapsed"),fras.utils.dom.removeClass(n,"expanded"),fras.utils.dom.removeClass(t,"is-active"),this.options.scroll){fras.utils.dom.cumulativeOffset(t);fras.animate.scrollTo(this.last_scroll,200)}},fras.modules.Accordion.prototype.update=function(){fras.utils.dom.forEach(this.els,function(e){fras.utils.dom.forEach(e.querySelectorAll(".is-active .accordion-content"),function(e){e.style.transition="none",e.style.height="";var t=e.scrollHeight;e.style.height=t+"px",e.style.transition=""})})},fras.modules.AnimateColor=function(e,t){function n(){for(this.els=[],i=0;i<l.length;i++){var e=l[i];e.style.backgroundColor="";var n=fras.utils.dom.cumulativeOffset(e).top,a=n+e.offsetHeight/2,o=getComputedStyle(e).getPropertyValue("background-color"),d=o.split("(")[1].split(")")[0].split(","),c=s(d[0],d[1],d[2],d[3]),u={el:e,top:n,bottom:n+e.offsetHeight,center:a,height:e.offsetHeight,hsla:c,threshhold:e.getAttribute("data-threshhold")?Number(e.getAttribute("data-threshhold")):t.threshhold};this.els.push(u)}r=!0}function a(){var e=window.pageYOffset||document.documentElement.scrollTop;for(r||n(),i=0;i<this.els.length;i++){var a=this.els[i];if(e>a.top-o&&e<a.bottom){var s=a.top-o,l=e-s,d=0,c=1,u=o/2+a.height/2-a.threshhold/2,f=u-l;f<0&&f>-a.threshhold?l+=f:f<-a.threshhold&&(l=l-u-a.threshhold,d=1,c=2);var m=Math.linearTween(l,d,c,u),h=t.hue?t.hue-t.hue*m:0,p=t.saturation?t.saturation-t.saturation*m:0,v=t.lightness?t.lightness-t.lightness*m:-a.hsla[2]- -a.hsla[2]*m,g=a.hsla[0]+h,y=a.hsla[1]+p,b=a.hsla[2]+v,w=a.hsla[3],E="hsla("+g+", "+y+"%, "+b+"%, "+w+")";a.el.style.backgroundColor=E,"function"==typeof t.callback&&t.callback(a.el,m),"function"==typeof t["in"]&&m<=1?t["in"](a.el,m):"function"==typeof t.out&&m>1&&t.out(a.el,m-1)}}}function s(e,t,i,n){e/=255,t/=255,i/=255;var a,s,o=Math.max(e,t,i),r=Math.min(e,t,i),l=(o+r)/2;if(o==r)a=s=0;else{var d=o-r;switch(s=l>.5?d/(2-o-r):d/(o+r),o){case e:a=(t-i)/d+(t<i?6:0);break;case t:a=(i-e)/d+2;break;case i:a=(e-t)/d+4}a/=6}if(a=360*a,s=100*s,l=100*l,void 0===n)var n=1;return[a,s,l,n]}t=t?t:{},t.animationRatio=t.animationRatio?t.animationRatio:1,t.threshhold=t.threshhold?t.threshhold:200;var o=window.innerHeight,r=!1,l=document.querySelectorAll(e);this.els=[];var a=a.bind(this),n=n.bind(this);window.addEventListener("optimizedScroll",a),window.addEventListener("optimizedResize",n)},fras.modules.AnimateHeader=function(e,t){function n(){var e=window.pageYOffset||document.documentElement.scrollTop;if(scrollDistance=l-e,scrollingUp=scrollDistance>0,scrollingDown=scrollDistance<0,e<=0)header.style.transform="translateY(0)",header.style.msTransform="translateY(0)";else if(scrollingDown)e>=c-a/u&&(scrollDistance>5&&(scrollDistance=10),r=scrollDistance*u+o,r=Math.round(r>=s?r:s),header.style.transform="translateY("+r+"px)",header.style.msTransform="translateY("+r+"px)"),r<=s+1&&(f=[0]);else if(scrollingUp){for(f.push(scrollDistance),i=0;i<f.length;i++)m+=f[i];o+scrollDistance*u>=0?(r=0,header.style.transform="translateY(0px)",header.style.msTransform="translateY(0px)"):(m>=d||e<=c||e<=a/u)&&(r=Math.round(o+scrollDistance*u),header.style.transform="translateY("+r+"px)",header.style.msTransform="translateY("+r+"px)")}l=e,o=r,fras.trackers.header_transform=a+r,m=0}if(t=t?t:{},void 0===t.scrollDownThreshold&&(t.scrollDownThreshold=0),void 0===t.scrollUpThreshold&&(t.scrollUpThreshold=0),void 0===t.scrollSpeed&&(t.scrollSpeed=1),header=document.getElementById(e),!header)return null;var a=header.offsetHeight,s=a*-1;fras.trackers.header_transform=a+r;var o=0,r=0,l=0,d=t.scrollUpThreshold,c=t.scrollDownThreshold,u=t.scrollSpeed,f=[],m=0;window.addEventListener("scroll",n)},fras.modules.Editabler=function(e){function t(){var e=[{title:"H1",el:document.createElement("li"),tag:"h1",type:"block"},{title:"H2",el:document.createElement("li"),tag:"h2",type:"block"},{title:"H3",el:document.createElement("li"),tag:"h3",type:"block"},{title:"H4",el:document.createElement("li"),tag:"h4",type:"block"},{title:"P",el:document.createElement("li"),tag:"p",type:"block"},{title:"UL",el:document.createElement("li"),tag:"insertUnorderedList",type:"command"},{title:"Clear Formatting",el:document.createElement("li"),tag:"removeFormat",type:"command"}],t=document.createElement("div"),n=document.createElement("ul");return n.classList.add("edit-toolbar"),t.classList.add("edit-toolbar-wrapper"),t.appendChild(n),e.forEach(function(e){e.el.innerHTML=e.title,e.el.setAttribute("data-tag",e.tag),e.el.setAttribute("data-type",e.type),e.el.addEventListener("mousedown",i),n.appendChild(e.el)}),a.parent.insertBefore(t,a.el),n}function i(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-tag"),i=e.currentTarget.getAttribute("data-type");switch(i){case"block":document.execCommand("formatBlock",!1,t),document.execCommand("removeFormat",!1,null);break;case"inline":break;case"command":document.execCommand(t,!1,""),document.execCommand("removeFormat",!1,null)}}function n(e){var t=s.dom.cumulativeOffset(a.el),i=document.documentElement.scrollTop||document.body.scrollTop;t.top<i+o.offsetHeight?(o.style.width=o.offsetWidth+"px",o.style.position="fixed"):o.style.position="relative"}var a=this,s=fras.utils;this.el=document.getElementById(e),this.parent=this.el.parentNode,this.el.addEventListener("focus",function(e){s.dom.addClass(a.parent,"is-active")}),this.el.addEventListener("blur",function(e){a.parent.classList.remove("is-active")});var o=t();document.execCommand("styleWithCSS",!0),document.addEventListener("optimizedScroll",n)},fras.modules.GalleryUpload=function(e,t){var i=fras.utils,n=i.dom,a=(n.createElement,n.addClass,n.removeClass,n.forEach,this);this.options={item_class:t.item_class?t.item_class:"drag-img-item",upload_name:t.upload_name?t.upload_name:"file_upload",detail_name:t.detail_name?t.detail_name:"title",detail_label:t.detail_label?t.detail_label:"Title"},this.el=document.getElementById(e),this.input=[this.el.querySelector("input")],this.files=[],this.count=0,a.imageDropZone()},fras.modules.GalleryUpload.prototype.addFile=function(){var e=fras.utils.dom.createElement;this.count++;var t=this.count,i=this.input[t]=e("input","","gallery-upload-file",[{name:"name",value:this.options.upload_name+"[]"},{name:"type",value:"file"}]);return i.style.display="none",this.el.insertBefore(this.input[this.count],this.input[this.count-1]),this.imageDropZone(),this.input[Number(this.count-1)]},fras.modules.GalleryUpload.prototype.imageDropZone=function(){function e(e){o(l.el,"image-over")}function t(e){r(l.el,"image-over")}function i(e){var t=new FileReader;e.target.files;t.onload=function(t){var i=e.target.parentNode,n=s("div",null,"gallery-item "+l.options.item_class),a=s("input",null,"remove-upload-item",[{name:"type",value:"checkbox"},{name:"value",value:"nosave"}]),o=s("div",null,"add-detail"),r=document.createElement("img");
r.setAttribute("src",t.target.result),n.appendChild(a),n.appendChild(r),n.appendChild(o),i.appendChild(n),o.innerHTML='<input type="text" name="'+l.options.detail_name+'[]" placeholder="'+l.options.detail_label+'"><i class="icon"></i>';var d=l.addFile();a.addEventListener("click",function(e){1==e.target.checked?(d.disabled=!0,n.setAttribute("data-nosave",!0)):(d.disabled=!1,n.removeAttribute("data-nosave"))})},t.readAsDataURL(e.target.files[0])}var n=fras.utils,a=n.dom,s=a.createElement,o=a.addClass,r=a.removeClass,l=(a.forEach,this);inputEl=l.input[l.count],inputEl.addEventListener("change",i,!1),inputEl.addEventListener("dragleave",t,!1),inputEl.addEventListener("drop",t,!1),this.el.addEventListener("dragenter",e,!1)},fras.modules.GoToSection=function(e,t){function i(e,i,n,a){c=!1,clearTimeout(r);var s=t.container.scrollTop;change=i-s,currentTime=0,increment=20;var o=function(){currentTime+=increment;var e=Math.easeInOutCirc(currentTime,s,change,n);t.container.scrollTop=e,currentTime<n&&0==c?r=setTimeout(o,increment):a&&a()};o()}function n(e){var t=new Array;return forEach(e,function(e,i){var n=y.cumulativeOffset(e),a=e.getAttribute("data-title");t.push({top:n.top,height:e.offsetHeight,title:a})}),t}function a(e){var n=new Array;return forEach(e,function(e,a){var s=y.cumulativeOffset(e),o=e.getAttribute("data-title");n.push({top:s.top,height:e.offsetHeight,title:o}),l.list_items[a]=document.createElement("li"),l.list_items[a].innerHTML='<a href="#'+e.getAttribute("id")+'"></a><span class="tooltip">'+o+"<span>",l.list_items[a].addEventListener("click",function(e){e.preventDefault();var n=e.currentTarget.querySelector("a").getAttribute("href");n=document.querySelector(n);var a=y.cumulativeOffset(n),s=document.querySelector(".js-header");u=!0,i(t.container,a.top-s.offsetHeight,500,function(){u=!1})}),l.list_items[a].addEventListener("mouseover",function(e){y.removeClass(l.last_item,"show-title")}),l.nav_ul.appendChild(l.list_items[a])}),n.length>0&&t.container.appendChild(l.nav),n}function s(){function e(e){f=Math.max(-1,Math.min(1,-e.deltaY)),0!==e.deltaY&&1==v&&(e.preventDefault(),Math.abs(e.deltaX)<2&&(m!==f&&1==u&&0!==m&&(c=!0),u===!1&&Math.abs(e.deltaY)-h>0&&(f>0?l.prev():l.next()),m=f,p=Math.abs(e.deltaY)-h,h=Math.abs(e.deltaY)))}function i(e){"38"==e.keyCode?(c=!0,e.preventDefault(),l.prev()):"40"==e.keyCode&&(c=!0,e.preventDefault(),l.next())}function a(){l.triggers=n(l.sections),l.winH=window.innerHeight}t.container.addEventListener("optimizedScroll",function(e){var t=window.pageYOffset||document.documentElement.scrollTop;t>l.winH/6?y.addClass(l.nav,"is-open"):(y.removeClass(l.nav,"is-open"),l.last_item&&y.removeClass(l.last_item,"is-active")),clearTimeout(o),o=window.setTimeout(function(){y.removeClass(l.nav,"is-open")},1610),l.triggers.forEach(function(e,i){t>e[0]-l.winH/2&&t<e[0]+l.winH/2&&(d==-1&&0==i&&f<0?(h=0,v=!0):l.last_item!==l.list_items[i]&&(v=!0,clearTimeout(g[i]),l.last_item&&y.removeClass(l.last_item,"is-active"),y.addClass(l.list_items[i],"is-active"),l.last_item=l.list_items[i],d=i))})}),t.scrolljack&&t.container.addEventListener("wheel",e,!1),t.container.addEventListener("keydown",i),window.addEventListener("optimizedResize",a)}var o,r,t={container:t.container?t.container:document.documentElement||document.body,scrolljack:!1,animate:!1,speed:1e3},l=this,d=-1,c=!1,u=!1,f=0,m=0,h=0,p=0,v=!1,g=[],y=fras.utils.dom,e=e?e:"[data-title]";this.nav=document.createElement("div"),y.addClass(this.nav,"dot-nav"),this.nav_ul=document.createElement("ul"),this.nav.appendChild(this.nav_ul),this.list_items=[],this.last_item=!1,this.winH=window.innerHeight,this.sections=document.querySelectorAll(e),this.triggers=a(this.sections),this.next=function(){d<l.triggers.length-1?(d++,u=!0,i(t.container,l.triggers[d][0],500,function(){u=!1})):(d=l.triggers.length,v=!1)},this.prev=function(){d>0?(d--,u=!0,i(t.container,l.triggers[d][0],500,function(){u=!1})):(d=-1,v=!1)},this.triggers.length>0&&s()},fras.modules.loader=function(){var e=fras.utils,t={loading:!1,el:!1,open:function(t,i){var t=t?t:document.body;this.el||(this.el=e.createElement("div","pinner-loader",null,t),loader.style.marginLeft=-(loader.offsetWidth/2)+"px",loader.style.marginTop=-(loader.offsetHeight/2)+"px",addClass(body,"loading"))},close:function(){this.loading=!1,addClass(loader,"close"),removeClass(body,"loading"),this.el&&killElement(this.el,fras.options.animation_time)}};return t}(),fras.modules.modal=function(){var e={};e.locals={modal:{},dialog:{},slat:{container:!1,messages:[]},panel:{el:!1,options:{}},toast:{container:!1,messages:[]},open:!1,dialog_open:!1,toast_open:!1},e.options={close_btn_content:'<i class="icon-close"></i>',content_container_class:"modal-content",animation_time:300};var t=e.options,i=e.locals,n=fras.utils;return e.killElement=function(e,i){n.dom.removeClass(e,"is-open"),setTimeout(function(){e.parentNode.removeChild(e),e=!1,"function"==typeof i&&i()},t.animation_time)},e.createModal=function(i){i=i?"modal "+i:"modal",e.locals.modal.container=n.dom.createElement("div","",i);var a=n.dom.createElement("button","","modal-close modal-btn");a.addEventListener("click",function(t){e.closeModal()}),e.locals.modal.content=n.dom.createElement("div","",t.content_container_class),e.locals.modal.container.appendChild(a),e.locals.modal.container.appendChild(e.locals.modal.content),e.locals.modal.slides=[],document.body.appendChild(e.locals.modal.container)},e.open=function(t,i,a){var s={style:"default",position:"bottom",overlay:!0,width:"auto",height:"auto"};"object"==typeof i?(i.style=i.style?i.style:s.style,i.position=i.position?i.position:s.position,i.width=i.width?i.width:s.width,i.height=i.height?i.height:s.height):i=s,e.locals.modal.container&&i.slide?e.loadSlide(t,a):(e.locals.modal.container?e.locals.modal.slides[0].innerHTML=t:(e.createModal(i.style+" "+i.position),e.locals.modal.container.style.width=i.width,e.locals.modal.container.style.height=i.height,e.locals.modal.slides=[n.dom.appendElement("div",t,"modal-slide",e.locals.modal.content)]),i.overlay&&n.dom.addClass(document.body,"is-overlay"),n.dom.addClass(document.body,"modal-open"),window.setTimeout(function(){"function"==typeof a&&a(),n.dom.addClass(e.locals.modal.container,"is-open")},10))},e.loadContent=function(t,i){var a={height:"400px"};"object"==typeof i?i.height=i.height?i.height:a.height:i=a,e.open("",i),n.dom.addClass(e.locals.modal.container,"loading"),fras.ajax.post({url:t,success:function(t){n.dom.removeClass(e.locals.modal.container,"loading"),e.locals.modal.slides[e.locals.modal.slides.length-1].innerHTML=t;var i=e.locals.modal.slides[e.locals.modal.slides.length-1].offsetHeight,a=e.locals.modal.slides[e.locals.modal.slides.length-1].offsetWidth;e.locals.modal.container.style.width=a+"px",e.locals.modal.container.style.height=i+"px"},err:function(t){e.toast(t,3e3)}})},e.loadSlide=function(t,i){var a=e.locals.modal.slides.length;if(1==a){var s=n.dom.createElement("button","","modal-prev modal-btn"),o=e.locals.modal.container.offsetWidth;e.locals.modal.container.appendChild(s),s.addEventListener("click",e.prev),e.locals.modal.container.style.width=o+"px",e.locals.modal.container,n.dom.addClass(e.locals.modal.content,"is-slider")}e.locals.modal.slides[a]=n.dom.appendElement("div",t,"modal-slide slide-"+a,e.locals.modal.content),e.slide(a,i)},e.slide=function(t,n){e.locals.modal.container.setAttribute("data-slide",t);var a=e.locals.modal.container.offsetWidth;e.locals.modal.content.style.transform="translateX(-"+a*t+"px)",setTimeout(function(){"function"==typeof n&&n()},i.animation_time)},e.next=function(t){var i=Number(e.locals.modal.container.getAttribute("data-slide"))+1;i<e.locals.modal.slides.length&&e.slide(i,t)},e.prev=function(t){var i=Number(e.locals.modal.container.getAttribute("data-slide"))-1;console.log(i),i>=0&&e.slide(i,t)},e.closeModal=function(t){n.dom.removeClass(document.body,"modal-open"),n.dom.removeClass(document.body,"is-overlay"),n.dom.removeClass(e.locals.modal.container,"is-open"),n.dom.killElement(e.locals.modal.container,300,!1,function(){e.locals.modal.container=!1})},e.dialog=function(t,a,s){clearTimeout(i.closeTimer);var o={title:!1,buttons:[{title:"Ok",handler:function(){e.closeDialog()}}],fields:!1};if("function"==typeof a?(s=a,a=o):"object"==typeof a?(a.title=a.title?a.title:o.title,a.buttons=a.buttons?a.buttons:o.buttons,a.fields=a.fields?a.fields:o.fields):a=o,i.dialog=n.dom.createElement("div","","dialog"),document.body.appendChild(i.dialog),a.title){var r=n.dom.createElement("div","","title");r.innerHTML=a.title,i.dialog.appendChild(r)}if(t){var l=n.dom.createElement("div","","message");l.innerHTML=t,i.dialog.appendChild(l)}if(a.fields){var d=n.dom.createElement("form","","dialog-fields");a.fields.forEach(function(e,t){switch(e.type){case"text":var i=n.dom.createElement("input","","field-element",[{name:"type",value:"text"},{name:"name",value:e.name},{name:"placeholder",value:e.label}]);break;case"select":var i=n.dom.createElement("select","","field-element",[{name:"name",value:e.name}]),a='<option value="">'+e.label+"</option>";e.options.forEach(function(e,t){a+='<option value="'+e.value+'">'+e.label+"</option>"}),i.innerHTML=a}e.el=i,"object"==typeof i.handler&&i.addEventListener(i.handler.type,i.handler.action),d.appendChild(i)}),"function"==typeof a.submit&&d.addEventListener("submit",a.submit),i.dialog.appendChild(d)}if(a.buttons){var c=n.dom.createElement("div","","dialog-buttons");a.buttons.forEach(function(e,t){var i=n.dom.createElement("button");i.innerHTML=e.title,i.addEventListener("click",e.handler),c.appendChild(i)}),d?d.appendChild(c):i.dialog.appendChild(c)}n.dom.addClass(i.dialog,"is-open"),d&&a.fields[0].el.focus()},e.closeDialog=function(e){n.dom.removeClass(document.body,"dialog-open"),n.dom.removeClass(document.body,"is-overlay"),n.dom.killElement(i.dialog,function(){i.dialog=!1})},e.slat=function(e,a){function s(e){i.slat.messages.indexOf(e);n.dom.addClass(e,"is-closed"),e.style.height="0",setTimeout(function(){e.parentNode.removeChild(e),0==i.slat.container.children.length&&(i.slat.messages=[],i.slat.container.parentNode.removeChild(i.slat.container),i.slat.container=!1)},t.animation_time)}var o=Number(i.slat.messages.length);i.slat.container||(i.slat.container=n.dom.createElement("div","","slat-container"),document.body.appendChild(i.slat.container));var r=n.dom.createElement("div","","slat",null,i.slat.container);n.dom.createElement("div",e,"slat-content",null,r),i.slat.messages.push(r);var l=n.dom.appendElement("button","","close-slat",r);l.addEventListener("click",function(){console.log(i.slat.messages.indexOf(r)),s(r)}),window.setTimeout(function(){n.dom.addClass(r,"is-open"),r.style.height=r.scrollHeight+"px"},5),a&&setTimeout(function(){n.dom.addClass(r,"is-closed"),s(i.slat.messages[o])},a)},e.panel=function(e,t){var a={position:"bottom",container:document.querySelector("#body-wrapper"),size:33.33};if(t="object"==typeof t?{position:t.position?t.position:a.position,size:t.size?t.size:a.size,container:t.container?document.querySelector(t.container):a.container}:a,!i.panel.el){i.panel.el=n.dom.createElement("div","","modal-panel "+t.position);var s=n.dom.appendElement("div",e,"modal-panel-content",i.panel.el);document.body.appendChild(i.panel.el),i.panel.options=t}setTimeout(function(){switch(t.position){case"top":s.style.height=t.size+1+"vh",i.panel.el.style.height=t.size+1+"vh",t.container.style.transform="translateY("+t.size+"vh)";break;case"bottom":s.style.height=t.size+1+"vh",i.panel.el.style.height=t.size+1+"vh",t.container.style.transform="translateY(-"+t.size+"vh)";break;case"left":s.style.width=t.size+1+"vw",i.panel.el.style.width=t.size+1+"vw",t.container.style.transform="translateX("+t.size+"vw)";break;case"right":s.style.width=t.size+1+"vw",i.panel.el.style.width=t.size+1+"vw",t.container.style.transform="translateX(-"+t.size+"vw)"}n.dom.addClass(i.panel.el,"is-open"),n.dom.addClass(document.body,"panel-open")},15)},e.closePanel=function(){switch(i.panel.options.position){case"top":i.panel.el.style.height="0px";break;case"bottom":i.panel.el.style.height="0px";break;case"left":i.panel.el.style.width="0px";break;case"right":i.panel.el.style.width="0px"}i.panel.options.container.style.transform="",n.dom.removeClass(document.body,"panel-open"),n.dom.removeClass(i.panel.el,"is-open"),n.dom.killElement(i.panel.el,300,!1,function(){i.panel.el=!1})},e.toast=function(e,a){var s=Number(i.toast.messages.length);i.toast.container||(i.toast.container=n.dom.createElement("div","","toast-container"),document.body.appendChild(i.toast.container)),i.toast.messages[s]=n.dom.createElement("div","","toast",i.toast.container),i.toast.messages[s].innerHTML=e,i.toast.container.insertBefore(i.toast.messages[s],i.toast.messages[s-1]),window.setTimeout(function(){n.dom.addClass(i.toast.messages[s],"is-open")},5),window.setTimeout(function(){n.dom.addClass(i.toast.messages[s],"is-closed"),killToast(i.toast.messages[s])},a),killToast=function(e){var a=i.toast.messages.indexOf(e);n.dom.addClass(e,"is-closed"),setTimeout(function(){e.parentNode.removeChild(e),a==i.toast.messages.length-1&&(console.log("Kill container"),i.toast.messages=[],i.toast.container.parentNode.removeChild(i.toast.container),i.toast.container=!1)},t.animation_time)}},e}(),fras.modules.parallax=function(e,t){function n(){for(r=[],l=window.innerHeight,i=0;i<o.length;i++){var e=o[i],n=fras.utils.dom.cumulativeOffset(e).top,a=n+e.offsetHeight/2,s={el:e,top:n,bottom:n+e.offsetHeight,center:a,height:e.offsetHeight,intensity:e.getAttribute("data-intensity")?Number(e.getAttribute("data-intensity")):t.intensity};r.push(s)}d=!0}function a(){0==d&&n();var e=(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop);for(i=0;i<r.length;i++){var t=r[i],a=e+l/2-t.center;t.el.style.transform="translateY("+Number(a*t.intensity)+"px)",t.el.style.msTransform="translateY("+Number(a*t.intensity)+"px)"}}var s={intensity:.2};t="object"==typeof t?t:s,t.intensity=t.intensity?t.intensity:s.intensity;var o=document.querySelectorAll(e),r=[],l=window.innerHeight,d=!1;window.addEventListener("optimizedScroll",a),window.addEventListener("optimizedResize",n)},fras.modules.scrollHash=function(e,t,i,n){function a(e){e.preventDefault();var a=document.querySelector(e.target.getAttribute("href"));a&&(history.pushState&&history.pushState(e.target.getAttribute("href"),"page 2",e.target.getAttribute("href")),fras.animate.scrollToElement(a,t,i,n),fras.$(".selected-hash").removeClass("selected-hash"),fras.$(a).addClass("selected-hash"))}t=t||600,fras.$(e).on("click",a)},fras.modules.selectButton=function(e,t){function n(e){var t=e.currentTarget,i=t.hasAttribute("data-default")?t.getAttribute("data-default"):t.options[t.selectedIndex].text,n=t.parentNode.querySelector(".title");n.innerHTML=i}var a=document.querySelectorAll(e);for(i=0;i<a.length;i++){var s=document.createElement("span"),o=a[i].options[0].text;addClass(s,"title"),s.innerHTML=o,a[i].parentNode.appendChild(s),a[i].hasAttribute("data-change-label")&&a[i].addEventListener("change",n)}},fras.modules.selectList=function(e,t){function i(e){e.preventDefault();var t=e.currentTarget,i=t.parentNode.querySelectorAll(".is-active");console.log(i),i.length&&fras.utils.dom.removeClass(i,"is-active"),fras.utils.dom.addClass(t,"is-active")}fras.listenerManager.bind([e+" > *",function(e){e.addEventListener("click",i)}])},fras.modules.ContentSlider=function(e,t){function n(e){window.clearTimeout(m),m=window.setTimeout(function(){y+t.slidesScroll<p.children.length?p.next():p.goTo(0),n(e)},e)}function a(e){var t=document.querySelector(e.dataset.slideTo);t&&(slide=!!t.dataset.slide&&Number(slide.dataset.slide),slide&&p.goTo(slide))}function s(e){1==S&&("37"==e.keyCode?p.prev():"39"==e.keyCode&&p.next())}function o(e){var t=e.wheelDeltaX?e.wheelDeltaX*-1:e.deltaX,i=e.wheelDeltaY?e.wheelDeltaY*-1:e.deltaY;if(Math.abs(t)-Math.abs(i)>0){e.preventDefault();var n=Math.max(-1,Math.min(1,-t));C!==n&&1==w&&0!==C&&(E=!0),w===!1&&Math.abs(t)-T>0&&(n>0?p.prev():p.next()),C=n,L=Math.abs(t-T),T=Math.abs(t)}1==w&&e.preventDefault()}if(!document.getElementById(e))return null;var r=fras.utils.dom.addClass,l=fras.utils.dom.removeClass,d=fras.lazyLoad;t=t?t:{},void 0===t.slidesShown&&(t.slidesShown=2),void 0===t.slidesScroll&&(t.slidesScroll=1),void 0===t.mobileShown&&(t.mobileShown=1),void 0===t.navigation&&(t.navigation=!0),void 0===t.style&&(t.style="default"),void 0===t.auto&&(t.auto=!1),void 0===t.prev&&(t.prev=!1),void 0===t.next&&(t.next=!1),void 0===t.customNav&&(t.customNav=!1);var c,u,f,m,h,p=this,v=t.slidesShown,g=t.slidesScroll,y=0,b=0,w=!1,E=!1,C=0,T=0,L=0,S=!1;if(this.target=document.getElementById(e),this.parent=this.target.parentNode,this.children=this.target.querySelectorAll(".slide"),this.counter=this.parent.querySelector(".counter"),this.elwidth=this.target.offsetWidth,this.markers=[],this.children.length>1){if((this.init=function(){if(p.target.querySelector(".content-slider-inner").style.width=100*p.children.length/t.slidesShown+"%",1==t.navigation&&!p.nav){for(p.nav=document.createElement("div"),r(p.nav,"navi-arrows navi-"+t.style),p.next_button=document.createElement("button"),p.prev_button=document.createElement("button"),r(p.next_button,"btn-circle-small"),r(p.prev_button,"btn-circle-small"),p.next_button.innerHTML='<i class="icon"></i>',p.prev_button.innerHTML='<i class="icon"></i>',p.next_button.addEventListener("click",function(e){p.next()}),p.prev_button.addEventListener("click",function(e){p.prev()}),p.place_container=document.createElement("div"),r(p.place_container,"place-container"),p.place_nav=document.createElement("ul"),r(p.place_nav,"place-nav"),p.place_container.appendChild(p.place_nav),"default"==t.style&&(p.counter=document.createElement("div"),r(p.counter,"counter"),p.counter.innerHTML=1,p.place_container.appendChild(p.counter)),i=0;i<p.children.length/t.slidesScroll;i++)i<=p.children.length-t.slidesShown&&(p.markers[i]=document.createElement("li"),p.markers[i].innerHTML='<a href="#"> '+Number(i+1)+"</a>",p.markers[i].setAttribute("data-slide",i),p.markers[i].addEventListener("click",function(e){var i=Number(e.currentTarget.getAttribute("data-slide"));e.preventDefault(),p.goTo(i*t.slidesScroll)}),p.place_nav.appendChild(p.markers[i]));r(p.place_nav,"place-nav"),p.nav.appendChild(p.prev_button),p.nav.appendChild(p.place_container),p.nav.appendChild(p.next_button),p.parent.appendChild(p.nav)}})(),this.activate=function(e){var n=p.children[y].offsetLeft;for(i=0;i<t.slidesShown;i++)p.children[y+i]&&(l(p.children[y+i],"is-back"),r(p.children[y+i],"is-active-slide"));t.navigation&&p.markers[y/t.slidesScroll]&&p.markers[b]&&(r(p.markers[y/t.slidesScroll],"is-active"),l(p.markers[b],"is-active")),p.scrollTo(n,400,function(){w=!1}),b=y/t.slidesScroll,t.navigation&&y+1>p.children.length-t.slidesShown?p.next_button.setAttribute("disabled","disabled"):t.navigation&&p.next_button.removeAttribute("disabled"),t.navigation&&0==y?p.prev_button.setAttribute("disabled","disabled"):t.navigation&&p.prev_button.removeAttribute("disabled"),p.counter&&(p.counter.innerHTML=Math.ceil(y/t.slidesScroll+1))},this.scrollTo=function(e,i,a){t.auto&&window.clearTimeout(m),E=!1,clearTimeout(h);var s=p.target,o=s.scrollLeft,r=e-o,l=0,c=20,u=function(){l+=c;var e=Math.easeInOutCirc(l,o,r,i);s.scrollLeft=e,l<i&&E===!1?h=setTimeout(u,c):a&&a(),d()};u(),t.auto&&n(t.auto)},this.next=function(e){if(y+t.slidesScroll<p.children.length-t.slidesShown){for(w=!0,y+=t.slidesScroll,i=1;i<t.slidesScroll+1;i++)l(p.children[y-i],"is-active-slide"),l(p.children[y-i],"in-back"),r(p.children[y-i],"is-back");p.activate(e)}else{for(y+=p.children.length-t.slidesShown-y,w=!0,i=1;i<t.slidesScroll+1;i++)p.children[y-i]&&(l(p.children[y-i],"is-active-slide"),l(p.children[y-i],"in-back"),r(p.children[y-i],"is-back"));p.activate(e)}},this.prev=function(e){if(y>=t.slidesScroll&&y%t.slidesScroll==0){for(w=!0,t.navigation&&p.next_button.removeAttribute("disabled"),i=0;i<t.slidesShown;i++)p.children[y+i]&&l(p.children[y+i],"is-active-slide");y-=t.slidesScroll,r(p.children[y],"in-back"),p.activate(e)}else{for(w=!0,t.navigation&&p.next_button.removeAttribute("disabled"),i=0;i<t.slidesShown;i++)p.children[y+i]&&l(p.children[y+i],"is-active-slide");r(p.children[y],"in-back"),y-=y%t.slidesScroll,p.activate(e)}},this.goTo=function(e){for(w=!0,i=0;i<t.slidesShown;i++)p.children[y+i]&&l(p.children[y+i],"is-active-slide");y=e,p.activate()},t.auto&&(n(t.auto),p.target.addEventListener("mouseover",function(){window.clearTimeout(m)}),p.target.addEventListener("mouseleave",function(){n(t.auto)}),1==t.navigation&&(p.nav.addEventListener("mouseover",function(){window.clearTimeout(m)}),p.nav.addEventListener("mouseleave",function(){n(t.auto)}))),t.next){var x=document.querySelector(t.next);x&&x.addEventListener("click",p.next)}if(t.prev){var A=document.querySelector(t.prev);A&&A.addEventListener("click",p.prev)}if(t.customNav){var k=document.querySelectorAll(t.customNav+" [data-slide-to]");forEach(k,function(e){e.addEventListener("click",a)})}window.addEventListener("optimizedResize",p.resize),(this.resize=function(){var e=window.innerWidth;e<724?(t.slidesShown=t.mobileShown,t.slidesScroll=1,p.init(),p.target.querySelector(".content-slider-inner").style.width=100*p.children.length/t.slidesShown+"%"):(t.slidesShown=v,t.slidesScroll=g,p.init(),p.target.querySelector(".content-slider-inner").style.width=100*p.children.length/t.slidesShown+"%"),E=!0,p.activate()})(),document.addEventListener("keydown",s),this.parent.addEventListener("mouseover",function(){S=!0}),this.parent.addEventListener("mouseleave",function(){S=!1}),this.parent.addEventListener("wheel",o,!1),p.parent.addEventListener("touchstart",function(e){var t=e.changedTouches[0];c="none",dist=0,u=t.screenX,f=t.screenY},!1),p.parent.addEventListener("touchmove",function(e){var i=e.changedTouches[0],n=Math.abs(i.screenY-f),a=Math.abs(i.screenX-u),s=i.screenX>u?1:-1;if(s!==c&&(E=!0),w===!1&&n<a){e.preventDefault(),p.target.scrollLeft+=1.2*-(i.pageX-u);var o=p.target.offsetWidth/t.slidesShown*t.slidesScroll,r=o*y,l=p.target.scrollLeft-r;l/=o,l>.33&&p.next(),l<-.33&&p.prev()}c=i.screenX>u?1:-1,f=i.screenY,u=i.screenX},!1),p.parent.addEventListener("touchend",function(e){var i=p.target.offsetWidth/t.slidesShown*t.slidesScroll,n=i*y,a=p.target.scrollLeft-n;a/=i,a<.33&&p.activate()},!1),p.activate()}},fras.modules.Sticky=function(e,t){this.options=t;var n=fras.utils.dom,a=document.querySelectorAll(e);for(this.winH=window.innerHeight,this.query=e,this.els=[],i=0;i<a.length;i++){var e=a[i],s=n.cumulativeOffset(e),o={el:e,width:e.offsetWidth,offset:s};if(e.style.paddingTop=fras.trackers.header_transform+"px",e.hasAttribute("data-contain")){var r=document.getElementById(e.getAttribute("data-contain")),l=n.cumulativeOffset(r),d=l.top+r.offsetHeight-e.offsetHeight;o.container_offset=l,o.container=r,o.stop=d}this.els.push(o)}var c=(document.querySelector(".js-header"),this.resizeSticky.bind(this)),u=this.makeSticky.bind(this);document.addEventListener("DOMContentLoaded",c),window.addEventListener("optimizedScroll",u),window.addEventListener("optimizedResize",c)},fras.modules.Sticky.prototype.resizeSticky=function(){var e=fras.utils.dom,t=document.querySelectorAll(this.query);for(this.winH=window.innerHeight,this.els=[],i=0;i<t.length;i++){var n=t[i],a=e.cumulativeOffset(n),s={el:n,width:n.offsetWidth,offset:a};if(fras.$(n).hasClass("stickied")&&(n.style.position="static",n.style.width="",s.width=n.offsetWidth,n.style.width=n.offsetWidth+"px",s.offset=e.cumulativeOffset(n),n.style.position=""),n.hasAttribute("data-contain")){var o=document.getElementById(n.getAttribute("data-contain")),r=e.cumulativeOffset(o),l=r.top+o.offsetHeight-n.offsetHeight;s.container=o,s.container_offset=r,s.stop=l}this.els.push(s)}},fras.modules.Sticky.prototype.makeSticky=function(e){var t=fras.utils.dom,n=window.pageYOffset||document.documentElement.scrollTop;for(i=0;i<this.els.length;i++){var a=this.els[i];if(a.container)n>=a.container_offset.top&&n<a.stop?t.hasClass(a.el,"stickied")||(a.el.style.width=a.el.offsetWidth+"px",a.el.style.top=0,a.el.style.bottom="",a.el.style.position="",t.addClass(a.el,"stickied")):n>=a.stop?t.hasClass(a.el,"stickied")&&(a.container.style.paddingTop="",t.removeClass(a.el,"stickied"),a.el.style.top="",a.el.style.bottom="0",a.el.style.position="absolute",a.el.style.width=a.width+"px"):t.hasClass(a.el,"stickied")&&(a.container.style.paddingTop="",t.removeClass(a.el,"stickied"),a.el.style.top="",a.el.style.bottom="",a.el.style.position="",a.el.style.width="");else{var s=a.el.getAttribute("data-offset")?a.el.getAttribute("data-offset"):0,o=a.el.hasAttribute("data-header-start")?headerHeight.offsetHeight:0;a.el.hasAttribute("data-header-offset")&&(s+=headerHeight.offsetHeight),a.offset.top<n+s-o?(a.el.style.width=a.el.offsetWidth+"px",t.addClass(a.el,"stickied"),a.el.style.top=s+"px"):(t.removeClass(a.el,"stickied"),a.el.style.top="",a.el.style.width="")}}},fras.modules.Tabs=function(e,n){var e=document.getElementById(e);if(!e)return null;this.el=e,this.current_tab=0;var a=(fras.utils.dom.forEach,fras.utils.dom.addClass,fras.utils.dom.removeClass,{navigation:e.querySelector(".tab-nav"),next:e.querySelector(".tab-next"),prev:e.querySelector(".tab-prev")});n="object"==typeof n?{navigation:n.navigation?document.querySelector(navigation.options):a.navigation,next:n.navigation?document.querySelector(navigation.next):a.next,prev:n.navigation?document.querySelector(navigation.prev):a.prev}:a,this.panes=[].slice.call(e.querySelectorAll(".tab-pane")),this.navigation=[].slice.call(n.navigation.querySelectorAll("[href]"));var s=this.next.bind(this),o=this.prev.bind(this),r=this.goTo.bind(this),l=function(){for(i=0;i<this.panes.length;i++){var e="#"+this.panes[i].id,n=[].slice.call(document.querySelectorAll('[href="'+e+'"]'));for(t=0;t<n.length;t++)n[t].addEventListener("click",r)}}.bind(this);fras.listenerManager.bind([this.el,l]),n.next&&fras.listenerManager.bind([n.next,function(e){e.addEventListener("click",s,!0)}]),n.prev&&fras.listenerManager.bind([n.prev,function(e){e.addEventListener("click",o,!0)}]),this.activateTab(this.panes[0])},fras.modules.Tabs.prototype.goTo=function(e){e.preventDefault();var t=this.el.querySelector(e.target.getAttribute("href"));this.activateTab(t)},fras.modules.Tabs.prototype.next=function(e){e.preventDefault(),this.current_tab=this.current_tab<this.panes.length-1?this.current_tab+1:0;var t=this.panes[this.current_tab];this.activateTab(t)},fras.modules.Tabs.prototype.prev=function(e){e.preventDefault(),this.current_tab=this.current_tab>0?this.current_tab-1:this.panes.length-1;var t=this.panes[this.current_tab];this.activateTab(t)},fras.modules.Tabs.prototype.activateTab=function(e){var t=fras.utils.dom.addClass,i=fras.utils.dom.removeClass,n=fras.ajax,a=this.panes.indexOf(e),s=this.navigation[a],o=this.panes[a].offsetHeight;for(this.current_tab=a,p=0;p<this.panes.length;p++)p<a?(i(this.navigation[p].parentNode,"is-active"),i(this.panes[p],"is-next is-active"),t(this.panes[p],"is-prev")):p>a?(i(this.navigation[p].parentNode,"is-active"),i(this.panes[p],"is-prev is-active"),t(this.panes[p],"is-next")):p==a&&(t(this.navigation[p].parentNode,"is-active"),i(this.panes[p],"is-prev is-next"),t(this.panes[p],"is-active"));t(e,"is-active"),t(s,"is-active"),e.dataset.url?(n.loadView(e.dataset.url,this.panes[a],function(){o=e.offsetHeight,e.parentNode.style.height=o+"px"}),e.dataset.url=""):this.panes[a].parentNode.style.height=o+"px"};var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var appDemo=function(){fras.$(".field").fieldControl(),fras.$(".utility-range input").rangeSlider();var e={home:{}};return e}();
//# sourceMappingURL=jacobsfletch.min.js.map
